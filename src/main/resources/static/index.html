<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Музей — события и экспозиции</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style> body { padding-top: 2rem; } </style>
  </head>
<body>
<div class="container">
  <h1 class="mb-4">Музей</h1>
  <div class="row">
    <div class="col-md-6">
      <h3>Мероприятия</h3>
      <ul id="events" class="list-group"></ul>
    </div>
    <div class="col-md-6">
      <h3>Экспозиции</h3>
      <ul id="exhibitions" class="list-group"></ul>
    </div>
  </div>
  <hr class="my-4">
  <a class="btn btn-outline-primary" href="/swagger-ui.html">Открыть Swagger UI</a>
  <a class="btn btn-primary ms-2" href="/admin">Админ-панель</a>
  <a class="btn btn-outline-secondary ms-2" href="/login">Войти</a>
  <p class="text-muted mt-2">Это простая демо-страница, использующая REST API.</p>
</div>
<script>
  async function loadList(url, targetId, render) {
    try {
      const res = await fetch(url);
      const data = await res.json();
      const ul = document.getElementById(targetId);
      ul.innerHTML = '';
      data.forEach(item => {
        const li = document.createElement('li');
        li.className = 'list-group-item';
        li.innerHTML = render(item);
        ul.appendChild(li);
      });
    } catch (e) {
      console.error(e);
    }
  }

  loadList('/api/events', 'events', e => `<strong>${e.title}</strong><br><small>${e.startDate} — ${e.endDate}</small>`);
  loadList('/api/exhibitions', 'exhibitions', x => `<strong>${x.title}</strong><br><small>${x.status || ''}</small>`);
</script>
</body>
</html>
